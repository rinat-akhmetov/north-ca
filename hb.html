<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ó–∞–≥–∞–¥–æ—á–Ω—ã–π –î–∞—Ä</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cinzel', serif;
            background: linear-gradient(45deg, #1a0826, #2d1b3d, #1a0826);
            background-size: 400% 400%;
            animation: gradientShift 8s ease-in-out infinite;
            color: #e0d4f0;
            overflow-x: hidden;
            min-height: 100vh;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle 2s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        .quest-stage {
            display: none;
            text-align: center;
            padding: 40px 20px;
            border: 2px solid #6b46a3;
            border-radius: 15px;
            background: rgba(26, 8, 38, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 30px rgba(107, 70, 163, 0.3);
            margin: 20px 0;
        }

        .quest-stage.active {
            display: block !important;
            animation: fadeIn 1s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 30px;
            color: #b794f6;
            text-shadow: 0 0 20px rgba(183, 148, 246, 0.5);
            animation: glow 3s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 20px rgba(183, 148, 246, 0.5); }
            50% { text-shadow: 0 0 30px rgba(183, 148, 246, 0.8); }
        }

        h2 {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #9f7aea;
        }

        p {
            font-size: 1.2em;
            line-height: 1.6;
            margin: 20px 0;
        }

        .riddle {
            background: rgba(159, 122, 234, 0.1);
            border-left: 4px solid #9f7aea;
            padding: 20px;
            margin: 20px 0;
            font-style: italic;
            border-radius: 5px;
        }

        .input-group {
            margin: 30px 0;
        }

        input[type="text"] {
            background: rgba(107, 70, 163, 0.2);
            border: 2px solid #6b46a3;
            border-radius: 25px;
            padding: 15px 20px;
            font-size: 1.1em;
            color: #e0d4f0;
            width: 300px;
            text-align: center;
            font-family: 'Cinzel', serif;
            ime-mode: active;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #b794f6;
            box-shadow: 0 0 20px rgba(183, 148, 246, 0.3);
        }

        input[type="text"]::placeholder {
            color: #a0a0a0;
        }

        .btn {
            background: linear-gradient(45deg, #6b46a3, #9f7aea);
            border: none;
            border-radius: 25px;
            padding: 15px 30px;
            font-size: 1.1em;
            color: white;
            cursor: pointer;
            font-family: 'Cinzel', serif;
            font-weight: 600;
            margin: 10px;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(107, 70, 163, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .timer {
            font-size: 2em;
            font-weight: 600;
            color: #ff6b6b;
            text-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
            margin: 20px 0;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .iou-card {
            background: linear-gradient(135deg, #6b46a3, #9f7aea);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 20px 40px rgba(107, 70, 163, 0.4);
            transform: perspective(1000px) rotateX(5deg);
        }

        .silk-animation {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            border: 3px solid #b794f6;
            border-radius: 50%;
            opacity: 0.3;
            animation: silkSpin 10s linear infinite;
        }

        @keyframes silkSpin {
            from { transform: translate(-50%, -50%) rotate(0deg) scale(1); }
            50% { transform: translate(-50%, -50%) rotate(180deg) scale(1.2); }
            to { transform: translate(-50%, -50%) rotate(360deg) scale(1); }
        }

        .error {
            color: #ff6b6b;
            margin: 10px 0;
            font-weight: 600;
        }

        .success {
            color: #4ecdc4;
            margin: 10px 0;
            font-weight: 600;
        }

        .hint {
            color: #ffd93d;
            font-size: 0.9em;
            margin-top: 10px;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <!-- Stage 1: Welcome -->
        <div class="quest-stage active" id="stage1">
            <div class="silk-animation"></div>
            <h1>üï∏Ô∏è –ó–∞–≥–∞–¥–æ—á–Ω—ã–π –î–∞—Ä üï∏Ô∏è</h1>
            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –∏—Å–∫–∞—Ç–µ–ª—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π...</p>
            <p>–í–∞—Å –æ–∂–∏–¥–∞–µ—Ç —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–≤–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—Å–æ–±–µ–Ω–Ω–æ–º—É –ø–æ–¥–∞—Ä–∫—É.</p>
            <p>–ì–æ—Ç–æ–≤—ã –ª–∏ –≤—ã –ø—Ä–∏–Ω—è—Ç—å –≤—ã–∑–æ–≤ –∏ —Ä–∞—Å–∫—Ä—ã—Ç—å —Ç–∞–π–Ω—É, —Å–∫—Ä—ã—Ç—É—é –≤ –≥–ª—É–±–∏–Ω–∞—Ö Hallownest?</p>
            <button class="btn" onclick="nextStage(2)">–ù–∞—á–∞—Ç—å –ö–≤–µ—Å—Ç</button>
        </div>

        <!-- Stage 2: First Riddle -->
        <div class="quest-stage" id="stage2">
            <h2>üóùÔ∏è –ü–µ—Ä–≤–æ–µ –ò—Å–ø—ã—Ç–∞–Ω–∏–µ</h2>
            <div class="riddle">
                "–Ø –º–∞–ª–µ–Ω—å–∫–∏–π —Ä—ã—Ü–∞—Ä—å –±–µ–∑ –≥–æ–ª–æ—Å–∞,<br>
                –ü—É—Å—Ç–æ—Ç–∞ –≤–æ –º–Ω–µ, –Ω–æ —Å–µ—Ä–¥—Ü–µ –±—å–µ—Ç—Å—è.<br>
                –í –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–µ –Ω–∞—Å–µ–∫–æ–º—ã—Ö —è —Å–∫–∏—Ç–∞—é—Å—å,<br>
                –ò —Å —Ç–µ–Ω—å—é –≤–Ω—É—Ç—Ä–∏ —è —Å—Ä–∞–∂–∞—é—Å—å."
            </div>
            <p>–ö—Ç–æ —è?</p>
            <div class="input-group">
                <input type="text" id="answer1" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç..." autocomplete="off" spellcheck="true" lang="ru">
                <br>
                <button class="btn" onclick="checkAnswer(1)">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            </div>
            <div id="message1"></div>
            <div class="hint">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –≥–ª–∞–≤–Ω—ã–π –≥–µ—Ä–æ–π –∏–∑–≤–µ—Å—Ç–Ω–æ–π –∏–Ω–¥–∏-–∏–≥—Ä—ã ü™≤</div>
        </div>

        <!-- Stage 3: Second Riddle -->
        <div class="quest-stage" id="stage3">
            <h2>üï∑Ô∏è –í—Ç–æ—Ä–æ–µ –ò—Å–ø—ã—Ç–∞–Ω–∏–µ</h2>
            <div class="riddle">
                "–ù–∞—Å–ª–µ–¥–Ω–∏—Ü–∞ —Ç—Ä–æ–Ω–∞ –ø–∞—É—á—å–µ–≥–æ,<br>
                –ë–µ–ª–∞—è –∫–∞–∫ —à–µ–ª–∫, –±—ã—Å—Ç—Ä–∞—è –∫–∞–∫ –≤–µ—Ç–µ—Ä.<br>
                –í –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–∏ –æ–Ω–∞ –≥–ª–∞–≤–Ω–∞—è,<br>
                –ù–æ –∏–≥—Ä—ã –ø–æ–∫–∞ –Ω–µ—Ç –Ω–∞ —Å–≤–µ—Ç–µ."
            </div>
            <p>–ö–∞–∫ –µ—ë –∑–æ–≤—É—Ç?</p>
            <div class="input-group">
                <input type="text" id="answer2" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è..." autocomplete="off" spellcheck="true" lang="ru">
                <br>
                <button class="btn" onclick="checkAnswer(2)">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            </div>
            <div id="message2"></div>
            <div class="hint">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –æ–Ω–∞ –ø—Ä–∏–Ω—Ü–µ—Å—Å–∞ –î–∏–ø–Ω–µ—Å—Ç–∞ üëë</div>
        </div>

        <!-- Stage 4: Final Challenge -->
        <div class="quest-stage" id="stage4">
            <h2>‚öîÔ∏è –§–∏–Ω–∞–ª—å–Ω–æ–µ –ò—Å–ø—ã—Ç–∞–Ω–∏–µ</h2>
            <div class="riddle">
                "–ö–æ–≥–¥–∞ –≤—ã–π–¥–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤–µ–ª–∏–∫–æ–π –∏–≥—Ä—ã?<br>
                –û—Ç–≤–µ—Ç –∑–Ω–∞—é—Ç –ª–∏—à—å —Å–æ–∑–¥–∞—Ç–µ–ª–∏.<br>
                –ù–æ —á—Ç–æ –≥–æ–≤–æ—Ä—è—Ç —Ñ–∞–Ω–∞—Ç—ã –≤ —à—É—Ç–∫—É<br>
                –û –¥–∞—Ç–µ —Ä–µ–ª–∏–∑–∞ –º–µ—á—Ç–∞—Ç–µ–ª–∏?"
            </div>
            <p>–í–≤–µ–¥–∏—Ç–µ –º–µ–º–Ω—É—é –¥–∞—Ç—É:</p>
            <div class="input-group">
                <input type="text" id="answer3" placeholder="–ö–æ–≥–¥–∞ –≤—ã–π–¥–µ—Ç?" autocomplete="off" spellcheck="true" lang="ru">
                <br>
                <button class="btn" onclick="checkAnswer(3)">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            </div>
            <div id="message3"></div>
            <div class="hint">–ü–æ–¥—Å–∫–∞–∑–∫–∞: —Ñ–∞–Ω–∞—Ç—ã —à—É—Ç—è—Ç, —á—Ç–æ –∏–≥—Ä–∞ –≤—ã–π–¥–µ—Ç... "–Ω–∏–∫–æ–≥–¥–∞" üòÖ</div>
        </div>

        <!-- Stage 5: Timer -->
        <div class="quest-stage" id="stage5">
            <h2>‚è∞ –û–±—Ä–∞—Ç–Ω—ã–π –û—Ç—Å—á–µ—Ç</h2>
            <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –ø–æ—á—Ç–∏ —É —Ü–µ–ª–∏...</p>
            <p>–í–∞—à –ø–æ–¥–∞—Ä–æ–∫ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ —á–µ—Ä–µ–∑:</p>
            <div class="timer" id="countdown"></div>
            <button class="btn" onclick="nextStage(6)">–û—Ç–∫—Ä—ã—Ç—å –ü–æ–¥–∞—Ä–æ–∫</button>
        </div>

        <!-- Stage 6: IOU Gift -->
        <div class="quest-stage" id="stage6">
            <h1>üéÅ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h1>
            <div class="iou-card">
                <h2>üìú IOU - –Ø —Ç–µ–±–µ –¥–æ–ª–∂–µ–Ω</h2>
                <p><strong>–ü—Ä–µ–¥–º–µ—Ç:</strong> Hollow Knight: Silksong</p>
                <p><strong>–°—Ç–∞—Ç—É—Å:</strong> –ò–≥—Ä–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</p>
                <p><strong>–û–±–µ—â–∞–Ω–∏–µ:</strong> –ö–∞–∫ —Ç–æ–ª—å–∫–æ –∏–≥—Ä–∞ –≤—ã–π–¥–µ—Ç –≤ –ø—Ä–æ–¥–∞–∂—É, —è –∫—É–ø–ª—é –µ—ë –¥–ª—è —Ç–µ–±—è!</p>
                <p><strong>–ü—Ä–∏—á–∏–Ω–∞:</strong> –ü–æ–∫–∞ —á—Ç–æ –¥–∞–∂–µ Team Cherry –Ω–µ –∑–Ω–∞–µ—Ç —Ç–æ—á–Ω—É—é –¥–∞—Ç—É —Ä–µ–ª–∏–∑–∞ üòä</p>
                <p><strong>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:</strong> –ê –ø–æ–∫–∞ —á—Ç–æ –º–æ–∂–µ—à—å –ø–µ—Ä–µ–∏–≥—Ä–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é Hollow Knight!</p>
                <br>
                <p style="font-style: italic;">–° –ª—é–±–æ–≤—å—é –∏ —Ç–µ—Ä–ø–µ–Ω–∏–µ–º –≤ –æ–∂–∏–¥–∞–Ω–∏–∏ Silksong ‚ù§Ô∏è</p>
            </div>
            <div class="silk-animation"></div>
        </div>
    </div>

    <script>
        // Create stars
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = star.style.height = Math.random() * 3 + 1 + 'px';
                star.style.animationDelay = Math.random() * 2 + 's';
                starsContainer.appendChild(star);
            }
        }

        let isTransitioning = false;

        // Next stage function
        function nextStage(stageNumber) {
            if (isTransitioning) return;
            isTransitioning = true;
            
            // Hide all stages
            document.querySelectorAll('.quest-stage').forEach(stage => {
                stage.classList.remove('active');
            });
            
            // Show target stage
            const targetStage = document.getElementById('stage' + stageNumber);
            if (targetStage) {
                targetStage.classList.add('active');
                
                if (stageNumber === 5) {
                    startCountdown();
                }
            }
            
            // Reset transition lock after animation
            setTimeout(() => {
                isTransitioning = false;
            }, 1000);
        }

        // Check answers
        function checkAnswer(questionNumber) {
            if (isTransitioning) return;
            
            const answers = {
                1: ['—Ä—ã—Ü–∞—Ä—å', 'knight', 'hollow knight', '—Ö–æ–ª–ª–æ—É –Ω–∞–π—Ç', '—Ä—ã—Ü–∞—Ä—å –ø—É—Å—Ç–æ—Ç—ã', 'void knight'],
                2: ['—Ö–æ—Ä–Ω–µ—Ç', 'hornet', 'horn–µ—Ç'],
                3: ['–Ω–∏–∫–æ–≥–¥–∞', 'never', '–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–π–¥–µ—Ç', 'never coming out', '–Ω–µ –≤—ã–π–¥–µ—Ç', '—Å–∫–æ—Ä–æ']
            };
            
            const input = document.getElementById('answer' + questionNumber);
            const message = document.getElementById('message' + questionNumber);
            const userAnswer = input.value.toLowerCase().trim();
            
            console.log('Checking answer:', userAnswer, 'for question', questionNumber);
            
            if (answers[questionNumber].some(answer => userAnswer.includes(answer))) {
                message.innerHTML = `
                    <div class="success">‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!</div>
                    <button class="btn" onclick="nextStage(${questionNumber + 2})" style="margin-top: 15px;">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ö–≤–µ—Å—Ç</button>
                `;
            } else {
                message.innerHTML = '<div class="error">‚ùå –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑...</div>';
                input.value = '';
            }
        }

        // Countdown timer
        function startCountdown() {
            const countdownElement = document.getElementById('countdown');
            
            // Set target date to September 4th, 2025
            const targetDate = new Date('2025-09-04T00:00:00');
            
            function updateCountdown() {
                const now = new Date();
                const timeDiff = targetDate - now;
                
                const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);
                
                countdownElement.innerHTML = `${days}–¥ ${hours}—á ${minutes}–º ${seconds}—Å`;
            }
            
            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        // Initialize
        createStars();
        
        // Allow Enter key to submit answers
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const activeInput = document.activeElement;
                if (activeInput.tagName === 'INPUT') {
                    const stageNumber = activeInput.id.slice(-1);
                    console.log('Enter pressed for question:', stageNumber);
                    checkAnswer(parseInt(stageNumber));
                }
            }
        });

        // Add debugging for button clicks
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('btn')) {
                console.log('Button clicked:', e.target.onclick);
            }
        });
    </script>
</body>
</html>
